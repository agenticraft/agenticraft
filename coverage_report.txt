============================= test session starts ==============================
platform darwin -- Python 3.11.6, pytest-8.4.0, pluggy-1.6.0
rootdir: /Users/zahere/Desktop/TLV/agenticraft
configfile: pytest.ini
testpaths: tests
plugins: xdist-3.7.0, anyio-4.9.0, timeout-2.4.0, mock-3.14.1, cov-6.1.1, asyncio-1.0.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1050 items

tests/examples/test_all_providers.py ..                                  [  0%]
tests/examples/test_examples_pytest.py .                                 [  0%]
tests/examples/test_websocket_minimal.py ....                            [  0%]
tests/examples/test_websocket_mocked.py ....                             [  1%]
tests/examples/test_websocket_pytest.py ssssss                           [  1%]
tests/examples/test_websocket_transport.py ..                            [  1%]
tests/fabric/test_decorators.py ....................                     [  3%]
tests/fabric/test_enhanced_fabric.py .................FFF......          [  6%]
tests/fabric/test_sdk_integration.py FF..F..F...F..F                     [  7%]
tests/fabric/test_unified.py ..F.....F..F.F....FF.....                   [ 10%]
tests/integration/test_examples.py ......Fs                              [ 10%]
tests/integration/test_mcp_integration.py .FF.F                          [ 11%]
tests/integration/test_mcp_integration_fixed.py .FF.F                    [ 11%]
tests/integration/test_plugin_integration.py ........                    [ 12%]
tests/integration/test_provider_switching.py ......s.........s           [ 14%]
tests/marketplace/test_manifest.py .............                         [ 15%]
tests/marketplace/test_version.py .............                          [ 16%]
tests/memory/test_knowledge_graph.py ...ss.s.....s.                      [ 17%]
tests/memory/test_vector_memory.py ..........ssssss                      [ 19%]
tests/protocols/mcp/test_adapters.py ........                            [ 20%]
tests/protocols/mcp/test_client.py .F.F...........                       [ 21%]
tests/protocols/mcp/test_registry.py .............                       [ 22%]
tests/protocols/mcp/test_server.py .............                         [ 24%]
tests/protocols/mcp/test_types.py ............................           [ 26%]
tests/protocols/test_mcp.py sssssssssssssssssssss                        [ 28%]
tests/reasoning/test_benchmarks.py .......                               [ 29%]
tests/reasoning/test_chain_of_thought.py ssssssssssss                    [ 30%]
tests/reasoning/test_react.py sssssssssss                                [ 31%]
tests/reasoning/test_reasoning_integration.py .................          [ 33%]
tests/reasoning/test_tree_of_thoughts.py sssssssssss                     [ 34%]
tests/security/test_sandbox.py ......                                    [ 34%]
tests/telemetry/test_telemetry.py .F..........s.sF.FF                    [ 36%]
tests/test_a2a_hybrid_fix.py .                                           [ 36%]
tests/test_all_sdk_fixes.py F                                            [ 36%]
tests/test_final_adapter_fixes.py .                                      [ 36%]
tests/test_mock_fix.py .                                                 [ 37%]
tests/test_name_parsing.py .                                             [ 37%]
tests/test_refactoring.py ....F...F.FF..FFF                              [ 38%]
tests/test_sandbox_basic.py .                                            [ 38%]
tests/test_sdk_integration.py ........                                   [ 39%]
tests/test_sdk_integration_fix.py F                                      [ 39%]
tests/test_security_full.py .                                            [ 39%]
tests/test_specialized_agents.py EF                                      [ 40%]
tests/test_streaming.py .........ss.                                     [ 41%]
tests/test_structure.py .FF                                              [ 41%]
tests/test_timeout.py .                                                  [ 41%]
tests/test_tool_proxy_fix.py .                                           [ 41%]
tests/test_websocket_fix.py .                                            [ 41%]
tests/unit/agents/test_reasoning_agent.py ..................             [ 43%]
tests/unit/agents/test_workflow_agent.py ...........................     [ 46%]
tests/unit/cli/test_main.py ............                                 [ 47%]
tests/unit/cli/test_new.py .................                             [ 48%]
tests/unit/cli/test_run.py .....FF.....F....                             [ 50%]
tests/unit/core/test_agent.py ........................                   [ 52%]
tests/unit/core/test_agent_config_provider.py ............               [ 53%]
tests/unit/core/test_config.py ................s.s.....                  [ 56%]
tests/unit/core/test_exceptions.py ........................              [ 58%]
tests/unit/core/test_memory.py ..........................                [ 60%]
tests/unit/core/test_plugin.py ...................                       [ 62%]
tests/unit/core/test_provider_factory.py ............                    [ 63%]
tests/unit/core/test_provider_switching.py .......                       [ 64%]
tests/unit/core/test_reasoning.py ...................                    [ 66%]
tests/unit/core/test_telemetry.py ................                       [ 67%]
tests/unit/core/test_tool.py .............................               [ 70%]
tests/unit/core/test_types.py ........................                   [ 72%]
tests/unit/core/test_workflow.py .......................                 [ 75%]
tests/unit/plugins/test_example_plugin.py .............                  [ 76%]
tests/unit/plugins/test_loader.py ....................                   [ 78%]
tests/unit/plugins/test_registry.py .......................              [ 80%]
tests/unit/providers/test_ollama.py .........................            [ 82%]
tests/unit/providers/test_openai.py .....................                [ 84%]
tests/unit/telemetry/test_config.py ..........                           [ 85%]
tests/unit/telemetry/test_decorators.py ............                     [ 86%]
tests/unit/telemetry/test_tracer.py ................                     [ 88%]
tests/unit/tools/test_calculator_tools.py ...................            [ 90%]
tests/unit/tools/test_file_tools.py ...........................          [ 92%]
tests/unit/tools/test_web_tools.py ........................              [ 95%]
tests/workflows/test_enhanced_agent.py .............                     [ 96%]
tests/workflows/test_patterns.py ...........                             [ 97%]
tests/workflows/test_templates.py .............                          [ 98%]
tests/workflows/test_visualizer.py .............../Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/_pytest/main.py:343: PluggyTeardownRaisedWarning: A plugin raised an exception during an old-style hookwrapper teardown.
Plugin: _cov, Hook: pytest_runtestloop
KeyboardInterrupt: 
For more information see https://pluggy.readthedocs.io/en/stable/api_reference.html#pluggy.PluggyTeardownRaisedWarning
  config.hook.pytest_runtestloop(session=session)
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "test_service",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.2.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.tokens.total",
                            "description": "Total tokens used",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 50
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.latency",
                            "description": "Operation latency",
                            "unit": "ms",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.errors.total",
                            "description": "Total errors",
                            "unit": "errors",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.error_operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "memory.test_memory.get"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tokens.by_provider",
                            "description": "Token usage by provider",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "prompt"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 50
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "total"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 150
                                    }
                                ]
                            }
                        }
                    ],
                    "schema_url": ""
                },
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.1.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.agent.runs",
                            "description": "Number of agent runs",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.duration",
                            "description": "Agent execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tokens.used",
                            "description": "Number of tokens used",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195307000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 100
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.errors",
                            "description": "Number of agent errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.executions",
                            "description": "Number of tool executions",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "calculator"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.duration",
                            "description": "Tool execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tool.errors",
                            "description": "Number of tool errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477353000,
                                        "time_unix_nano": 1750418144099634000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        }
                    ],
                    "schema_url": ""
                }
            ],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "test_service",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.2.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.tokens.total",
                            "description": "Total tokens used",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 50
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.latency",
                            "description": "Operation latency",
                            "unit": "ms",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.errors.total",
                            "description": "Total errors",
                            "unit": "errors",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.error_operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "memory.test_memory.get"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tokens.by_provider",
                            "description": "Token usage by provider",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "prompt"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 50
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "total"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 150
                                    }
                                ]
                            }
                        }
                    ],
                    "schema_url": ""
                },
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.1.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.agent.runs",
                            "description": "Number of agent runs",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.duration",
                            "description": "Agent execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tokens.used",
                            "description": "Number of tokens used",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195307000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 100
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.errors",
                            "description": "Number of agent errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.executions",
                            "description": "Number of tool executions",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "calculator"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.duration",
                            "description": "Tool execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tool.errors",
                            "description": "Number of tool errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477353000,
                                        "time_unix_nano": 1750418204165189000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        }
                    ],
                    "schema_url": ""
                }
            ],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "test_service",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.2.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.tokens.total",
                            "description": "Total tokens used",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 50
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.latency",
                            "description": "Operation latency",
                            "unit": "ms",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.errors.total",
                            "description": "Total errors",
                            "unit": "errors",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.error_operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "memory.test_memory.get"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tokens.by_provider",
                            "description": "Token usage by provider",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "prompt"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 50
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "total"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 150
                                    }
                                ]
                            }
                        }
                    ],
                    "schema_url": ""
                },
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.1.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.agent.runs",
                            "description": "Number of agent runs",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.duration",
                            "description": "Agent execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tokens.used",
                            "description": "Number of tokens used",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195307000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 100
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.errors",
                            "description": "Number of agent errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.executions",
                            "description": "Number of tool executions",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "calculator"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.duration",
                            "description": "Tool execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tool.errors",
                            "description": "Number of tool errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477353000,
                                        "time_unix_nano": 1750418264292631000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        }
                    ],
                    "schema_url": ""
                }
            ],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "test_service",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.2.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.tokens.total",
                            "description": "Total tokens used",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 50
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.latency",
                            "description": "Operation latency",
                            "unit": "ms",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.errors.total",
                            "description": "Total errors",
                            "unit": "errors",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.error_operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "memory.test_memory.get"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tokens.by_provider",
                            "description": "Token usage by provider",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "prompt"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 50
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "total"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 150
                                    }
                                ]
                            }
                        }
                    ],
                    "schema_url": ""
                },
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.1.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.agent.runs",
                            "description": "Number of agent runs",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.duration",
                            "description": "Agent execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tokens.used",
                            "description": "Number of tokens used",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195307000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 100
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.errors",
                            "description": "Number of agent errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.executions",
                            "description": "Number of tool executions",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "calculator"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.duration",
                            "description": "Tool execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tool.errors",
                            "description": "Number of tool errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477353000,
                                        "time_unix_nano": 1750418324308544000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        }
                    ],
                    "schema_url": ""
                }
            ],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "test_service",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.2.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.tokens.total",
                            "description": "Total tokens used",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 50
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.latency",
                            "description": "Operation latency",
                            "unit": "ms",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.errors.total",
                            "description": "Total errors",
                            "unit": "errors",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.error_operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "memory.test_memory.get"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tokens.by_provider",
                            "description": "Token usage by provider",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "prompt"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 50
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "total"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 150
                                    }
                                ]
                            }
                        }
                    ],
                    "schema_url": ""
                },
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.1.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.agent.runs",
                            "description": "Number of agent runs",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.duration",
                            "description": "Agent execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tokens.used",
                            "description": "Number of tokens used",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195307000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 100
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.errors",
                            "description": "Number of agent errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.executions",
                            "description": "Number of tool executions",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "calculator"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.duration",
                            "description": "Tool execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tool.errors",
                            "description": "Number of tool errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477353000,
                                        "time_unix_nano": 1750418384370314000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        }
                    ],
                    "schema_url": ""
                }
            ],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "test_service",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.2.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.tokens.total",
                            "description": "Total tokens used",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 50
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.latency",
                            "description": "Operation latency",
                            "unit": "ms",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.errors.total",
                            "description": "Total errors",
                            "unit": "errors",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.error_operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "memory.test_memory.get"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tokens.by_provider",
                            "description": "Token usage by provider",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "prompt"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 50
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "total"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 150
                                    }
                                ]
                            }
                        }
                    ],
                    "schema_url": ""
                },
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.1.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.agent.runs",
                            "description": "Number of agent runs",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.duration",
                            "description": "Agent execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tokens.used",
                            "description": "Number of tokens used",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195307000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 100
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.errors",
                            "description": "Number of agent errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.executions",
                            "description": "Number of tool executions",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "calculator"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.duration",
                            "description": "Tool execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tool.errors",
                            "description": "Number of tool errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477353000,
                                        "time_unix_nano": 1750418444397618000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        }
                    ],
                    "schema_url": ""
                }
            ],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "test_service",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.2.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.tokens.total",
                            "description": "Total tokens used",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 50
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.latency",
                            "description": "Operation latency",
                            "unit": "ms",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.errors.total",
                            "description": "Total errors",
                            "unit": "errors",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.error_operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "memory.test_memory.get"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tokens.by_provider",
                            "description": "Token usage by provider",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "prompt"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 50
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "total"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 150
                                    }
                                ]
                            }
                        }
                    ],
                    "schema_url": ""
                },
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.1.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.agent.runs",
                            "description": "Number of agent runs",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195184000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.duration",
                            "description": "Agent execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tokens.used",
                            "description": "Number of tokens used",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195307000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 100
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.agent.errors",
                            "description": "Number of agent errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "agent.name": "TestAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "agent.name": "ErrorAgent"
                                        },
                                        "start_time_unix_nano": 1750417796195345000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.executions",
                            "description": "Number of tool executions",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "calculator"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477238000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tool.duration",
                            "description": "Tool execution duration in seconds",
                            "unit": "s",
                            "data": {
                                "data_points": [],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.tool.errors",
                            "description": "Number of tool errors",
                            "unit": "",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "tool.name": "web_search"
                                        },
                                        "start_time_unix_nano": 1750417807477353000,
                                        "time_unix_nano": 1750418504415520000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        }
                    ],
                    "schema_url": ""
                }
            ],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}


==================================== ERRORS ====================================
_________________________ ERROR at setup of test_agent _________________________
file /Users/zahere/Desktop/TLV/agenticraft/tests/test_specialized_agents.py, line 25
  async def test_agent(agent_class, method_name: str, args: dict) -> Tuple[str, bool, str]:
      """Test a single agent method."""
      agent_name = agent_class.__name__
      try:
          agent = agent_class()
          method = getattr(agent, method_name)
          result = await method(**args)

          # Check if result has expected structure
          if isinstance(result, dict) and "reasoning" in result:
              return agent_name, True, " Success with reasoning"
          elif isinstance(result, dict):
              return agent_name, True, " Success"
          else:
              return agent_name, False, " Unexpected result format"
      except Exception as e:
          return agent_name, False, f" Error: {str(e)[:50]}..."
E       fixture 'agent_class' not found
>       available fixtures: _class_event_loop, _function_event_loop, _module_event_loop, _package_event_loop, _session_event_loop, anyio_backend, anyio_backend_name, anyio_backend_options, async_mock_tool, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, capture_reasoning, class_mocker, clean_settings, cov, doctest_namespace, event_loop, event_loop_policy, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, mock_llm_provider, mock_openai_key, mock_provider, mock_telemetry, mocker, module_mocker, monkeypatch, no_cover, package_mocker, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, reset_singletons, sample_config, session_mocker, temp_dir, temp_workspace, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, worker_id
>       use 'pytest --fixtures [testpath]' for help on them.

/Users/zahere/Desktop/TLV/agenticraft/tests/test_specialized_agents.py:25
=================================== FAILURES ===================================
__________ TestEnhancedUnifiedProtocolFabric.test_create_mesh_network __________
tests/fabric/test_enhanced_fabric.py:327: in test_create_mesh_network
    assert "mesh_id" in result
E   AssertionError: assert 'mesh_id' in {'agents': ['agent1', 'agent2', 'agent3'], 'connections': 3, 'status': 'active', 'topology': 'ring'}
___________ TestEnhancedUnifiedProtocolFabric.test_enable_consensus ____________
tests/fabric/test_enhanced_fabric.py:340: in test_enable_consensus
    assert "consensus_id" in result
E   AssertionError: assert 'consensus_id' in {'min_agents': 5, 'status': 'ready', 'type': 'pbft'}
________ TestEnhancedUnifiedProtocolFabric.test_enable_reasoning_traces ________
tests/fabric/test_enhanced_fabric.py:350: in test_enable_reasoning_traces
    assert "trace_id" in result
E   AssertionError: assert 'trace_id' in {'collectors': ['chain_of_thought', 'tree_of_thoughts', 'react'], 'level': 'verbose', 'status': 'enabled'}
________________ TestSDKIntegration.test_sdk_preference_parsing ________________
tests/fabric/test_sdk_integration.py:36: in test_sdk_preference_parsing
    fabric = SDKEnabledUnifiedProtocolFabric(
agenticraft/fabric/legacy.py:396: in __init__
    self._register_default_adapters()
agenticraft/fabric/legacy.py:526: in _register_default_adapters
    adapter = AdapterFactory.create_adapter(protocol, preference)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agenticraft/fabric/adapters/adapter_factory.py:90: in create_adapter
    return cls._create_auto_adapter(protocol, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agenticraft/fabric/adapters/adapter_factory.py:127: in _create_auto_adapter
    custom_class = cls.ADAPTERS[protocol]['custom']
                   ^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: <ProtocolType.NATIVE: 'native'>
_________________ TestSDKIntegration.test_sdk_preference_enum __________________
tests/fabric/test_sdk_integration.py:51: in test_sdk_preference_enum
    fabric = SDKEnabledUnifiedProtocolFabric(
agenticraft/fabric/legacy.py:396: in __init__
    self._register_default_adapters()
agenticraft/fabric/legacy.py:526: in _register_default_adapters
    adapter = AdapterFactory.create_adapter(protocol, preference)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agenticraft/fabric/adapters/adapter_factory.py:90: in create_adapter
    return cls._create_auto_adapter(protocol, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agenticraft/fabric/adapters/adapter_factory.py:122: in _create_auto_adapter
    return cls.create_adapter(
agenticraft/fabric/adapters/adapter_factory.py:98: in create_adapter
    return adapter_class(fallback_adapter=custom_adapter)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: ACPAdapter.__init__() got an unexpected keyword argument 'fallback_adapter'
_____________________ TestSDKIntegration.test_get_sdk_info _____________________
tests/fabric/test_sdk_integration.py:101: in test_get_sdk_info
    info = fabric.get_sdk_info()
           ^^^^^^^^^^^^^^^^^^^^^
agenticraft/fabric/legacy.py:470: in get_sdk_info
    availability = AdapterFactory.get_available_adapters()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agenticraft/fabric/adapters/adapter_factory.py:228: in get_available_adapters
    'custom': cls.ADAPTERS[protocol]['custom'] is not None,
              ^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: <ProtocolType.NATIVE: 'native'>
________________ TestAdapterFactory.test_get_available_adapters ________________
tests/fabric/test_sdk_integration.py:144: in test_get_available_adapters
    status = AdapterFactory.get_available_adapters()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agenticraft/fabric/adapters/adapter_factory.py:228: in get_available_adapters
    'custom': cls.ADAPTERS[protocol]['custom'] is not None,
              ^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: <ProtocolType.NATIVE: 'native'>
________________ TestOfficialAdapters.test_a2a_official_adapter ________________
tests/fabric/test_sdk_integration.py:208: in test_a2a_official_adapter
    adapter = A2AOfficialAdapter()
              ^^^^^^^^^^^^^^^^^^^^
agenticraft/fabric/adapters/a2a_official.py:61: in __init__
    raise ImportError(
E   ImportError: A2A SDK not installed. Install with: pip install a2a-protocol
_________ TestEndToEndSDKMigration.test_preserve_agenticraft_features __________
tests/fabric/test_sdk_integration.py:268: in test_preserve_agenticraft_features
    mesh = await fabric.create_mesh_network(['agent1', 'agent2'])
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedProtocolFabric' object has no attribute 'create_mesh_network'
------------------------------ Captured log call -------------------------------
WARNING  agenticraft.fabric.legacy:legacy.py:209 Overriding existing adapter for ProtocolType.MCP
______________ TestUnifiedProtocolFabric.test_initialize_with_mcp ______________
tests/fabric/test_unified.py:91: in test_initialize_with_mcp
    with patch('agenticraft.protocols.mcp.MCPClient', return_value=mock_mcp_client):
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1427: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'agenticraft' has no attribute 'protocols'
------------------------------ Captured log setup ------------------------------
WARNING  agenticraft.fabric.legacy:legacy.py:209 Overriding existing adapter for ProtocolType.MCP
_____________ TestUnifiedProtocolFabric.test_create_unified_agent ______________
tests/fabric/test_unified.py:190: in test_create_unified_agent
    agent = await fabric.create_unified_agent(
agenticraft/fabric/legacy.py:338: in create_unified_agent
    tool_wrapper = UnifiedToolWrapper(unified_tool, self)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class UnifiedToolWrapper with abstract method get_definition
------------------------------ Captured log setup ------------------------------
WARNING  agenticraft.fabric.legacy:legacy.py:209 Overriding existing adapter for ProtocolType.MCP
_________________________ TestMCPAdapter.test_connect __________________________
tests/fabric/test_unified.py:257: in test_connect
    with patch('agenticraft.protocols.mcp.MCPClient', return_value=mock_client):
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1427: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'agenticraft' has no attribute 'protocols'
______________________ TestMCPAdapter.test_discover_tools ______________________
tests/fabric/test_unified.py:278: in test_discover_tools
    assert tools[0].name == "web_search"
E   AssertionError: assert <Mock name='web_search.name' id='4841523792'> == 'web_search'
E    +  where <Mock name='web_search.name' id='4841523792'> = UnifiedTool(name=<Mock name='web_search.name' id='4841523792'>, description='Search the web', protocol=<ProtocolType.MCP: 'mcp'>, original_tool=<Mock name='web_search' id='4843565584'>, parameters={'type': 'tool'}).name
_______________________ TestA2AAdapter.test_connect_http _______________________
tests/fabric/test_unified.py:352: in test_connect_http
    with patch('agenticraft.protocols.a2a.ProtocolClient', return_value=mock_client):
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1427: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'agenticraft' has no attribute 'protocols'
______________________ TestA2AAdapter.test_discover_tools ______________________
tests/fabric/test_unified.py:374: in test_discover_tools
    assert "agent1.analyze" in tool_names
E   assert 'agent1.analyze' in ["agent1.<Mock name='analyze.name' id='4841405200'>", "agent1.<Mock name='summarize.name' id='4841394384'>", "agent2.<Mock name='translate.name' id='4841390480'>"]
________________ TestExamples.test_provider_examples_structure _________________
tests/integration/test_examples.py:77: in test_provider_examples_structure
    assert (
E   assert ('from agenticraft import Agent' in '#!/usr/bin/env python3\n"""Example: Using tools with Regular Agents - Wrapper Pattern\n\nThis example shows how to us...  except Exception as e:\n        print(f"\\n Error: {e}")\n\n\nif __name__ == "__main__":\n    asyncio.run(main())\n' or 'import agenticraft' in '#!/usr/bin/env python3\n"""Example: Using tools with Regular Agents - Wrapper Pattern\n\nThis example shows how to us...  except Exception as e:\n        print(f"\\n Error: {e}")\n\n\nif __name__ == "__main__":\n    asyncio.run(main())\n')
___________________ TestMCPIntegration.test_basic_mcp_server ___________________
tests/integration/test_mcp_integration.py:73: in test_basic_mcp_server
    result = module.reverse_text.run(text="hello")
             ^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'function' object has no attribute 'run'
____________ TestMCPIntegration.test_mcp_client_server_interaction _____________
tests/integration/test_mcp_integration.py:99: in test_mcp_client_server_interaction
    with patch("agenticraft.protocols.mcp.client.MCPClient") as MockClient:
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1427: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'agenticraft' has no attribute 'protocols'
______________ TestMCPToolIntegration.test_mcp_agent_integration _______________
tests/integration/test_mcp_integration.py:164: in test_mcp_agent_integration
    with patch("agenticraft.protocols.mcp.client.MCPClient") as MockClient:
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1427: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'agenticraft' has no attribute 'protocols'
___________________ TestMCPIntegration.test_basic_mcp_server ___________________
tests/integration/test_mcp_integration_fixed.py:74: in test_basic_mcp_server
    result = module.reverse_text.run(text="hello")
             ^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'function' object has no attribute 'run'
____________ TestMCPIntegration.test_mcp_client_server_interaction _____________
tests/integration/test_mcp_integration_fixed.py:121: in test_mcp_client_server_interaction
    with patch("agenticraft.protocols.mcp.client.MCPClient") as MockClient:
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1427: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'agenticraft' has no attribute 'protocols'
______________ TestMCPToolIntegration.test_mcp_agent_integration _______________
tests/integration/test_mcp_integration_fixed.py:186: in test_mcp_agent_integration
    with patch("agenticraft.protocols.mcp.client.MCPClient") as MockClient:
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1427: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'agenticraft' has no attribute 'protocols'
_________________ TestMCPClient.test_websocket_client_connect __________________
tests/protocols/mcp/test_client.py:94: in test_websocket_client_connect
    with patch("agenticraft.protocols.mcp.client.HAS_WEBSOCKETS", True):
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1427: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'agenticraft' has no attribute 'protocols'
__________________ TestMCPClient.test_send_websocket_request ___________________
tests/protocols/mcp/test_client.py:172: in test_send_websocket_request
    with patch("agenticraft.protocols.mcp.client.HAS_WEBSOCKETS", True):
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1427: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'agenticraft' has no attribute 'protocols'
_______________________ TestTracer.test_disabled_tracer ________________________
tests/telemetry/test_telemetry.py:67: in test_disabled_tracer
    assert not span.is_recording()
E   assert not True
E    +  where True = is_recording()
E    +    where is_recording = _Span(name="test", context=SpanContext(trace_id=0xaaa5e647c392d6c553c1267ba2d859d8, span_id=0x1c91cd5abf9c33ad, trace_flags=0x01, trace_state=[], is_remote=False)).is_recording
------------------------------ Captured log call -------------------------------
WARNING  opentelemetry.trace:__init__.py:521 Overriding of current TracerProvider is not allowed
____________________ TestIntegration.test_instrument_agent _____________________
tests/telemetry/test_telemetry.py:303: in test_instrument_agent
    agent = instrumented_class()
            ^^^^^^^^^^^^^^^^^^^^
tests/telemetry/test_telemetry.py:288: in __init__
    self.provider = Mock(name="mock_provider")
    ^^^^^^^^^^^^^
E   AttributeError: property 'provider' of 'TestIntegration.test_instrument_agent.<locals>.MockAgent' object has no setter
------------------------------ Captured log call -------------------------------
WARNING  opentelemetry.trace:__init__.py:521 Overriding of current TracerProvider is not allowed
WARNING  opentelemetry.metrics._internal:__init__.py:746 Overriding of current MeterProvider is not allowed
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:86 An instrument with name agenticraft.tokens.total, type Counter, unit tokens and description Total tokens used has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.tokens.by_provider, type ObservableGauge, unit tokens and description Token usage by provider has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:199 An instrument with name agenticraft.latency, type Histogram, unit ms and description Operation latency has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.latency.p99, type ObservableGauge, unit ms and description 99th percentile latency has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:86 An instrument with name agenticraft.errors.total, type Counter, unit errors and description Total errors has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.errors.rate, type ObservableGauge, unit errors/min and description Error rate per minute has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:86 An instrument with name agenticraft.memory.operations, type Counter, unit operations and description Memory operations has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.memory.hit_rate, type ObservableGauge, unit ratio and description Memory cache hit rate has been created already.
_______________ TestIntegration.test_memory_operation_decorator ________________
tests/telemetry/test_telemetry.py:357: in test_memory_operation_decorator
    result = memory.get("exists")
             ^^^^^^^^^^^^^^^^^^^^
agenticraft/telemetry/integration.py:460: in sync_wrapper
    record_latency(
E   TypeError: record_latency() got multiple values for argument 'operation'
------------------------------ Captured log call -------------------------------
WARNING  opentelemetry.metrics._internal:__init__.py:746 Overriding of current MeterProvider is not allowed
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:86 An instrument with name agenticraft.tokens.total, type Counter, unit tokens and description Total tokens used has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.tokens.by_provider, type ObservableGauge, unit tokens and description Token usage by provider has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:199 An instrument with name agenticraft.latency, type Histogram, unit ms and description Operation latency has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.latency.p99, type ObservableGauge, unit ms and description 99th percentile latency has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:86 An instrument with name agenticraft.errors.total, type Counter, unit errors and description Total errors has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.errors.rate, type ObservableGauge, unit errors/min and description Error rate per minute has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:86 An instrument with name agenticraft.memory.operations, type Counter, unit operations and description Memory operations has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.memory.hit_rate, type ObservableGauge, unit ratio and description Memory cache hit rate has been created already.
--------------------------- Captured stdout teardown ---------------------------
{
    "name": "memory.test_memory.get",
    "context": {
        "trace_id": "0xd258023a74eddb57b9cb6c045302bcb4",
        "span_id": "0x274d74c0d07f7e8b",
        "trace_state": "[]"
    },
    "kind": "SpanKind.INTERNAL",
    "parent_id": null,
    "start_time": "2025-06-20T11:05:10.257935Z",
    "end_time": "2025-06-20T11:05:10.338671Z",
    "status": {
        "status_code": "ERROR",
        "description": "TypeError: record_latency() got multiple values for argument 'operation'"
    },
    "attributes": {
        "memory.operation": "get",
        "memory.type": "test_memory",
        "memory.key": "exists"
    },
    "events": [
        {
            "name": "exception",
            "timestamp": "2025-06-20T11:05:10.338621Z",
            "attributes": {
                "exception.type": "TypeError",
                "exception.message": "record_latency() got multiple values for argument 'operation'",
                "exception.stacktrace": "Traceback (most recent call last):\n  File \"/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/trace/__init__.py\", line 573, in use_span\n    yield span\n  File \"/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/trace/__init__.py\", line 1045, in start_as_current_span\n    yield span_context\n  File \"/Users/zahere/Desktop/TLV/agenticraft/agenticraft/telemetry/tracer.py\", line 198, in create_span\n    yield span\n  File \"/Users/zahere/Desktop/TLV/agenticraft/agenticraft/telemetry/integration.py\", line 460, in sync_wrapper\n    record_latency(\nTypeError: record_latency() got multiple values for argument 'operation'\n",
                "exception.escaped": "False"
            }
        }
    ],
    "links": [],
    "resource": {
        "attributes": {
            "telemetry.sdk.language": "python",
            "telemetry.sdk.name": "opentelemetry",
            "telemetry.sdk.version": "1.20.0",
            "service.name": "test_service",
            "service.version": "0.2.0"
        },
        "schema_url": ""
    }
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "test_service",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.2.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.tokens.total",
                            "description": "Total tokens used",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750417543357963000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750417543357963000,
                                        "value": 50
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.latency",
                            "description": "Operation latency",
                            "unit": "ms",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417489023807000,
                                        "time_unix_nano": 1750417543357963000,
                                        "count": 3,
                                        "sum": 376.4,
                                        "bucket_counts": [
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            3,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0
                                        ],
                                        "explicit_bounds": [
                                            0.0,
                                            5.0,
                                            10.0,
                                            25.0,
                                            50.0,
                                            75.0,
                                            100.0,
                                            250.0,
                                            500.0,
                                            750.0,
                                            1000.0,
                                            2500.0,
                                            5000.0,
                                            7500.0,
                                            10000.0
                                        ],
                                        "min": 100.5,
                                        "max": 150.2
                                    },
                                    {
                                        "attributes": {
                                            "operation": "test.timed_operation",
                                            "category": "test"
                                        },
                                        "start_time_unix_nano": 1750417489023807000,
                                        "time_unix_nano": 1750417543357963000,
                                        "count": 1,
                                        "sum": 112.9598617553711,
                                        "bucket_counts": [
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            1,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0
                                        ],
                                        "explicit_bounds": [
                                            0.0,
                                            5.0,
                                            10.0,
                                            25.0,
                                            50.0,
                                            75.0,
                                            100.0,
                                            250.0,
                                            500.0,
                                            750.0,
                                            1000.0,
                                            2500.0,
                                            5000.0,
                                            7500.0,
                                            10000.0
                                        ],
                                        "min": 112.9598617553711,
                                        "max": 112.9598617553711
                                    },
                                    {
                                        "attributes": {
                                            "operation": "test.error_operation"
                                        },
                                        "start_time_unix_nano": 1750417489023807000,
                                        "time_unix_nano": 1750417543357963000,
                                        "count": 1,
                                        "sum": 0.006198883056640625,
                                        "bucket_counts": [
                                            0,
                                            1,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0
                                        ],
                                        "explicit_bounds": [
                                            0.0,
                                            5.0,
                                            10.0,
                                            25.0,
                                            50.0,
                                            75.0,
                                            100.0,
                                            250.0,
                                            500.0,
                                            750.0,
                                            1000.0,
                                            2500.0,
                                            5000.0,
                                            7500.0,
                                            10000.0
                                        ],
                                        "min": 0.006198883056640625,
                                        "max": 0.006198883056640625
                                    }
                                ],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.errors.total",
                            "description": "Total errors",
                            "unit": "errors",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750417543357963000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750417543357963000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.error_operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750417543357963000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "memory.test_memory.get"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750417543357963000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tokens.by_provider",
                            "description": "Token usage by provider",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "prompt"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750417543357963000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750417543357963000,
                                        "value": 50
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "total"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750417543357963000,
                                        "value": 150
                                    }
                                ]
                            }
                        }
                    ],
                    "schema_url": ""
                }
            ],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
___________________ TestPerformance.test_telemetry_overhead ____________________
tests/telemetry/test_telemetry.py:408: in test_telemetry_overhead
    assert overhead < 10, f"Telemetry overhead too high: {overhead:.1f}%"
E   AssertionError: Telemetry overhead too high: 10.2%
E   assert 10.165842524612948 < 10
------------------------------ Captured log call -------------------------------
WARNING  opentelemetry.trace:__init__.py:521 Overriding of current TracerProvider is not allowed
WARNING  opentelemetry.metrics._internal:__init__.py:746 Overriding of current MeterProvider is not allowed
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:86 An instrument with name agenticraft.tokens.total, type Counter, unit tokens and description Total tokens used has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.tokens.by_provider, type ObservableGauge, unit tokens and description Token usage by provider has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:199 An instrument with name agenticraft.latency, type Histogram, unit ms and description Operation latency has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.latency.p99, type ObservableGauge, unit ms and description 99th percentile latency has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:86 An instrument with name agenticraft.errors.total, type Counter, unit errors and description Total errors has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.errors.rate, type ObservableGauge, unit errors/min and description Error rate per minute has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:86 An instrument with name agenticraft.memory.operations, type Counter, unit operations and description Memory operations has been created already.
WARNING  opentelemetry.sdk.metrics._internal:__init__.py:236 An instrument with name agenticraft.memory.hit_rate, type ObservableGauge, unit ratio and description Memory cache hit rate has been created already.
______________________________ test_all_sdk_fixes ______________________________
Expected None, but test returned False. Did you mean to use `assert` instead of `return`?
----------------------------- Captured stdout call -----------------------------
 Testing All SDK Integration Fixes
============================================================

1 Testing fabric creation with SDK preferences:
 Error: <ProtocolType.NATIVE: 'native'>

2 Testing A2AHybridAdapter:
 Created A2AHybridAdapter
 get_capabilities works: [ProtocolCapability(name='agent_collaboration', description='Collaborate with other agents via A2A', protocol=<ProtocolType.A2A: 'a2a'>, parameters={}, metadata={'agent_count': 0, 'skill_count': 0}), ProtocolCapability(name='bidirectional_communication', description='Support for ongoing agent conversations', protocol=<ProtocolType.A2A: 'a2a'>, parameters={}, metadata={}), ProtocolCapability(name='agent_discovery', description='Discover agents and their capabilities', protocol=<ProtocolType.A2A: 'a2a'>, parameters={}, metadata={})]

3 Testing SDK info:
 Error: cannot access local variable 'fabric' where it is not associated with a value
----------------------------- Captured stderr call -----------------------------
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/tests/test_all_sdk_fixes.py", line 24, in test_all_sdk_fixes
    fabric = EnhancedUnifiedProtocolFabric(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zahere/Desktop/TLV/agenticraft/agenticraft/fabric/legacy.py", line 396, in __init__
    self._register_default_adapters()
  File "/Users/zahere/Desktop/TLV/agenticraft/agenticraft/fabric/legacy.py", line 526, in _register_default_adapters
    adapter = AdapterFactory.create_adapter(protocol, preference)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zahere/Desktop/TLV/agenticraft/agenticraft/fabric/adapters/adapter_factory.py", line 90, in create_adapter
    return cls._create_auto_adapter(protocol, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zahere/Desktop/TLV/agenticraft/agenticraft/fabric/adapters/adapter_factory.py", line 127, in _create_auto_adapter
    custom_class = cls.ADAPTERS[protocol]['custom']
                   ~~~~~~~~~~~~^^^^^^^^^^
KeyError: <ProtocolType.NATIVE: 'native'>
________________________ TestCoreAuth.test_auth_manager ________________________
tests/test_refactoring.py:113: in test_auth_manager
    manager.set_auth(AuthConfig.bearer("token"))
agenticraft/core/auth/base.py:180: in set_auth
    raise ValueError(
E   ValueError: No auth provider registered for type: bearer. Available: []
___________________ TestProtocols.test_a2a_protocol_creation ___________________
tests/test_refactoring.py:211: in test_a2a_protocol_creation
    protocol = A2AProtocol(
agenticraft/protocols/a2a/protocol.py:83: in __init__
    self._pattern_impl = self._create_pattern_implementation()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agenticraft/protocols/a2a/protocol.py:95: in _create_pattern_implementation
    return MeshPattern(self.node_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class MeshPattern with abstract methods connect, disconnect, send
________________________ TestFabric.test_agent_builder _________________________
tests/test_refactoring.py:267: in test_agent_builder
    agent = builder.build()
            ^^^^^^^^^^^^^^^
agenticraft/fabric/builder.py:266: in build
    protocol = protocol_class(
agenticraft/protocols/a2a/protocol.py:83: in __init__
    self._pattern_impl = self._create_pattern_implementation()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agenticraft/protocols/a2a/protocol.py:95: in _create_pattern_implementation
    return MeshPattern(self.node_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Can't instantiate abstract class MeshPattern with abstract methods connect, disconnect, send
______________________ TestFabric.test_protocol_adapters _______________________
tests/test_refactoring.py:282: in test_protocol_adapters
    mcp_adapter = MCPAdapter(mock_mcp, mock_transport)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: MCPAdapter.__init__() takes 1 positional argument but 3 were given
--------------------------- Captured stdout teardown ---------------------------
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "test_service",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [
                {
                    "scope": {
                        "name": "agenticraft",
                        "version": "0.2.0",
                        "schema_url": ""
                    },
                    "metrics": [
                        {
                            "name": "agenticraft.tokens.total",
                            "description": "Total tokens used",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750417603391338000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 1750417486011497000,
                                        "time_unix_nano": 1750417603391338000,
                                        "value": 50
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.latency",
                            "description": "Operation latency",
                            "unit": "ms",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417489023807000,
                                        "time_unix_nano": 1750417603391338000,
                                        "count": 103,
                                        "sum": 476.4,
                                        "bucket_counts": [
                                            0,
                                            100,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            3,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0
                                        ],
                                        "explicit_bounds": [
                                            0.0,
                                            5.0,
                                            10.0,
                                            25.0,
                                            50.0,
                                            75.0,
                                            100.0,
                                            250.0,
                                            500.0,
                                            750.0,
                                            1000.0,
                                            2500.0,
                                            5000.0,
                                            7500.0,
                                            10000.0
                                        ],
                                        "min": 1.0,
                                        "max": 150.2
                                    }
                                ],
                                "aggregation_temporality": 2
                            }
                        },
                        {
                            "name": "agenticraft.errors.total",
                            "description": "Total errors",
                            "unit": "errors",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750417603391338000,
                                        "value": 2
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "test.operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750417603391338000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "ValueError",
                                            "operation": "test.error_operation"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750417603391338000,
                                        "value": 1
                                    },
                                    {
                                        "attributes": {
                                            "error_type": "TypeError",
                                            "operation": "memory.test_memory.get"
                                        },
                                        "start_time_unix_nano": 1750417492603114000,
                                        "time_unix_nano": 1750417603391338000,
                                        "value": 1
                                    }
                                ],
                                "aggregation_temporality": 2,
                                "is_monotonic": true
                            }
                        },
                        {
                            "name": "agenticraft.tokens.by_provider",
                            "description": "Token usage by provider",
                            "unit": "tokens",
                            "data": {
                                "data_points": [
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "prompt"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750417603391338000,
                                        "value": 100
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "completion"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750417603391338000,
                                        "value": 50
                                    },
                                    {
                                        "attributes": {
                                            "provider": "openai",
                                            "model": "gpt-4",
                                            "token_type": "total"
                                        },
                                        "start_time_unix_nano": 0,
                                        "time_unix_nano": 1750417603391338000,
                                        "value": 150
                                    }
                                ]
                            }
                        }
                    ],
                    "schema_url": ""
                }
            ],
            "schema_url": ""
        }
    ]
}
______________ TestBackwardsCompatibility.test_deprecated_imports ______________
tests/test_refactoring.py:365: in test_deprecated_imports
    from agenticraft.fabric.compat import UnifiedFabric
E   ImportError: cannot import name 'UnifiedFabric' from 'agenticraft.fabric.compat' (/Users/zahere/Desktop/TLV/agenticraft/agenticraft/fabric/compat/__init__.py)

During handling of the above exception, another exception occurred:
tests/test_refactoring.py:364: in test_deprecated_imports
    with pytest.warns(DeprecationWarning):
E   Failed: DID NOT WARN. No warnings of type (<class 'DeprecationWarning'>,) were emitted.
E    Emitted warnings: [].
____________ TestBackwardsCompatibility.test_compatibility_wrappers ____________
tests/test_refactoring.py:372: in test_compatibility_wrappers
    from agenticraft.fabric.compat import UnifiedFabric
E   ImportError: cannot import name 'UnifiedFabric' from 'agenticraft.fabric.compat' (/Users/zahere/Desktop/TLV/agenticraft/agenticraft/fabric/compat/__init__.py)
_____________________ TestIntegration.test_end_to_end_flow _____________________
tests/test_refactoring.py:396: in test_end_to_end_flow
    auth_manager.set_auth(AuthConfig.bearer("test-token"))
agenticraft/core/auth/base.py:180: in set_auth
    raise ValueError(
E   ValueError: No auth provider registered for type: bearer. Available: []
___________________________ test_sdk_integration_fix ___________________________
Expected None, but test returned False. Did you mean to use `assert` instead of `return`?
----------------------------- Captured stdout call -----------------------------
 Testing SDK Integration Fix
==================================================

1 Testing string SDK preferences:
 Error: <ProtocolType.NATIVE: 'native'>
----------------------------- Captured stderr call -----------------------------
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/tests/test_sdk_integration_fix.py", line 22, in test_sdk_integration_fix
    fabric1 = EnhancedUnifiedProtocolFabric(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zahere/Desktop/TLV/agenticraft/agenticraft/fabric/legacy.py", line 396, in __init__
    self._register_default_adapters()
  File "/Users/zahere/Desktop/TLV/agenticraft/agenticraft/fabric/legacy.py", line 526, in _register_default_adapters
    adapter = AdapterFactory.create_adapter(protocol, preference)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zahere/Desktop/TLV/agenticraft/agenticraft/fabric/adapters/adapter_factory.py", line 90, in create_adapter
    return cls._create_auto_adapter(protocol, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zahere/Desktop/TLV/agenticraft/agenticraft/fabric/adapters/adapter_factory.py", line 127, in _create_auto_adapter
    custom_class = cls.ADAPTERS[protocol]['custom']
                   ~~~~~~~~~~~~^^^^^^^^^^
KeyError: <ProtocolType.NATIVE: 'native'>
_________________________ test_reasoning_transparency __________________________
tests/test_specialized_agents.py:126: in test_reasoning_transparency
    seo = SEOSpecialist()
          ^^^^^^^^^^^^^^^
agenticraft/agents/specialized/seo_specialist.py:38: in __init__
    super().__init__(config)
agenticraft/core/agent.py:227: in __init__
    self.config = AgentConfig(
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for AgentConfig
E   name
E     Input should be a valid string [type=string_type, input_value=AgentConfig(name='SEO Spe...mit=512, cpu_limit=50.0), input_type=AgentConfig]
E       For further information visit https://errors.pydantic.dev/2.11/v/string_type
----------------------------- Captured stdout call -----------------------------

============================================================
Testing Reasoning Transparency
============================================================
--------------------------- Captured stdout teardown ---------------------------
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
_______________________________ test_init_files ________________________________
tests/test_structure.py:45: in test_init_files
    assert init_file.exists(), f"Missing __init__.py in {path}"
E   AssertionError: Missing __init__.py in /Users/zahere/Desktop/TLV/agenticraft/agenticraft/tools/builder/static
E   assert False
E    +  where False = exists()
E    +    where exists = PosixPath('/Users/zahere/Desktop/TLV/agenticraft/agenticraft/tools/builder/static/__init__.py').exists
_________________________________ test_imports _________________________________
tests/test_structure.py:57: in test_imports
    assert agenticraft.__version__ == "0.1.1"
E   AssertionError: assert '0.2.0-alpha' == '0.1.1'
E     
E     - 0.1.1
E     + 0.2.0-alpha
______________________ TestRunCommand.test_run_yaml_agent ______________________
tests/unit/cli/test_run.py:145: in test_run_yaml_agent
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = <Result ImportError("cannot import name 'extract_text' from 'agenticraft.tools' (/Users/zahere/Desktop/TLV/agenticraft/agenticraft/tools/__init__.py)")>.exit_code
--------------------------- Captured stdout teardown ---------------------------
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
__________ TestRunCommand.test_run_yaml_agent_with_provider_override ___________
tests/unit/cli/test_run.py:160: in test_run_yaml_agent_with_provider_override
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = <Result ImportError("cannot import name 'extract_text' from 'agenticraft.tools' (/Users/zahere/Desktop/TLV/agenticraft/agenticraft/tools/__init__.py)")>.exit_code
--------------------------- Captured stdout teardown ---------------------------
{
    "resource_metrics": [
        {
            "resource": {
                "attributes": {
                    "telemetry.sdk.language": "python",
                    "telemetry.sdk.name": "opentelemetry",
                    "telemetry.sdk.version": "1.20.0",
                    "service.name": "agenticraft",
                    "service.version": "0.2.0"
                },
                "schema_url": ""
            },
            "scope_metrics": [],
            "schema_url": ""
        }
    ]
}
_____________ TestRunCommandHelpers.test_run_yaml_agent_with_tools _____________
tests/unit/cli/test_run.py:291: in test_run_yaml_agent_with_tools
    with patch("agenticraft.tools.simple_calculate") as mock_calc:
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1443: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1416: in get_original
    raise AttributeError(
E   AttributeError: <module 'agenticraft.tools' from '/Users/zahere/Desktop/TLV/agenticraft/agenticraft/tools/__init__.py'> does not have the attribute 'simple_calculate'
=============================== warnings summary ===============================
agenticraft/core/tool.py:198
  /Users/zahere/Desktop/TLV/agenticraft/agenticraft/core/tool.py:198: PytestCollectionWarning: cannot collect 'test_calculate' because it is not a function.
    def __call__(self, *args: Any, **kwargs: Any) -> Any:

agenticraft/core/tool.py:198
  /Users/zahere/Desktop/TLV/agenticraft/agenticraft/core/tool.py:198: PytestCollectionWarning: cannot collect 'test_echo' because it is not a function.
    def __call__(self, *args: Any, **kwargs: Any) -> Any:

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/fabric/test_enhanced_fabric.py::TestEnhancedUnifiedProtocolFabric::test_create_mesh_network
FAILED tests/fabric/test_enhanced_fabric.py::TestEnhancedUnifiedProtocolFabric::test_enable_consensus
FAILED tests/fabric/test_enhanced_fabric.py::TestEnhancedUnifiedProtocolFabric::test_enable_reasoning_traces
FAILED tests/fabric/test_sdk_integration.py::TestSDKIntegration::test_sdk_preference_parsing
FAILED tests/fabric/test_sdk_integration.py::TestSDKIntegration::test_sdk_preference_enum
FAILED tests/fabric/test_sdk_integration.py::TestSDKIntegration::test_get_sdk_info
FAILED tests/fabric/test_sdk_integration.py::TestAdapterFactory::test_get_available_adapters
FAILED tests/fabric/test_sdk_integration.py::TestOfficialAdapters::test_a2a_official_adapter
FAILED tests/fabric/test_sdk_integration.py::TestEndToEndSDKMigration::test_preserve_agenticraft_features
FAILED tests/fabric/test_unified.py::TestUnifiedProtocolFabric::test_initialize_with_mcp
FAILED tests/fabric/test_unified.py::TestUnifiedProtocolFabric::test_create_unified_agent
FAILED tests/fabric/test_unified.py::TestMCPAdapter::test_connect - Attribute...
FAILED tests/fabric/test_unified.py::TestMCPAdapter::test_discover_tools - As...
FAILED tests/fabric/test_unified.py::TestA2AAdapter::test_connect_http - Attr...
FAILED tests/fabric/test_unified.py::TestA2AAdapter::test_discover_tools - as...
FAILED tests/integration/test_examples.py::TestExamples::test_provider_examples_structure
FAILED tests/integration/test_mcp_integration.py::TestMCPIntegration::test_basic_mcp_server
FAILED tests/integration/test_mcp_integration.py::TestMCPIntegration::test_mcp_client_server_interaction
FAILED tests/integration/test_mcp_integration.py::TestMCPToolIntegration::test_mcp_agent_integration
FAILED tests/integration/test_mcp_integration_fixed.py::TestMCPIntegration::test_basic_mcp_server
FAILED tests/integration/test_mcp_integration_fixed.py::TestMCPIntegration::test_mcp_client_server_interaction
FAILED tests/integration/test_mcp_integration_fixed.py::TestMCPToolIntegration::test_mcp_agent_integration
FAILED tests/protocols/mcp/test_client.py::TestMCPClient::test_websocket_client_connect
FAILED tests/protocols/mcp/test_client.py::TestMCPClient::test_send_websocket_request
FAILED tests/telemetry/test_telemetry.py::TestTracer::test_disabled_tracer - ...
FAILED tests/telemetry/test_telemetry.py::TestIntegration::test_instrument_agent
FAILED tests/telemetry/test_telemetry.py::TestIntegration::test_memory_operation_decorator
FAILED tests/telemetry/test_telemetry.py::TestPerformance::test_telemetry_overhead
FAILED tests/test_all_sdk_fixes.py::test_all_sdk_fixes - Failed: Expected Non...
FAILED tests/test_refactoring.py::TestCoreAuth::test_auth_manager - ValueErro...
FAILED tests/test_refactoring.py::TestProtocols::test_a2a_protocol_creation
FAILED tests/test_refactoring.py::TestFabric::test_agent_builder - TypeError:...
FAILED tests/test_refactoring.py::TestFabric::test_protocol_adapters - TypeEr...
FAILED tests/test_refactoring.py::TestBackwardsCompatibility::test_deprecated_imports
FAILED tests/test_refactoring.py::TestBackwardsCompatibility::test_compatibility_wrappers
FAILED tests/test_refactoring.py::TestIntegration::test_end_to_end_flow - Val...
FAILED tests/test_sdk_integration_fix.py::test_sdk_integration_fix - Failed: ...
FAILED tests/test_specialized_agents.py::test_reasoning_transparency - pydant...
FAILED tests/test_structure.py::test_init_files - AssertionError: Missing __i...
FAILED tests/test_structure.py::test_imports - AssertionError: assert '0.2.0-...
FAILED tests/unit/cli/test_run.py::TestRunCommand::test_run_yaml_agent - asse...
FAILED tests/unit/cli/test_run.py::TestRunCommand::test_run_yaml_agent_with_provider_override
FAILED tests/unit/cli/test_run.py::TestRunCommandHelpers::test_run_yaml_agent_with_tools
ERROR tests/test_specialized_agents.py::test_agent
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! KeyboardInterrupt !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/coverage/sqlitedb.py:115: KeyboardInterrupt
(to show a full traceback on KeyboardInterrupt use --full-trace)
= 43 failed, 926 passed, 80 skipped, 2 warnings, 1 error in 1256.69s (0:20:56) =
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Transient error StatusCode.UNAVAILABLE encountered while exporting metrics to telemetry.example.com:4317, retrying in 1s.
Transient error StatusCode.UNAVAILABLE encountered while exporting metrics to telemetry.example.com:4317, retrying in 2s.
Transient error StatusCode.UNAVAILABLE encountered while exporting metrics to telemetry.example.com:4317, retrying in 4s.
Transient error StatusCode.UNAVAILABLE encountered while exporting metrics to telemetry.example.com:4317, retrying in 8s.
Transient error StatusCode.UNAVAILABLE encountered while exporting metrics to localhost:4317, retrying in 1s.
Transient error StatusCode.UNAVAILABLE encountered while exporting metrics to localhost:4317, retrying in 2s.
Transient error StatusCode.UNAVAILABLE encountered while exporting metrics to localhost:4317, retrying in 4s.
Transient error StatusCode.UNAVAILABLE encountered while exporting metrics to localhost:4317, retrying in 8s.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Transient error StatusCode.UNAVAILABLE encountered while exporting metrics to localhost:4317, retrying in 16s.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Transient error StatusCode.UNAVAILABLE encountered while exporting metrics to localhost:4317, retrying in 32s.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception ignored in atexit callback: <bound method MeterProvider.shutdown of <opentelemetry.sdk.metrics._internal.MeterProvider object at 0x13c740050>>
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/__init__.py", line 440, in shutdown
    metric_reader.shutdown(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 546, in shutdown
    self._exporter.shutdown(timeout=(deadline_ns - time_ns()) / 10**6)
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/exporter/otlp/proto/grpc/metric_exporter/__init__.py", line 254, in shutdown
    OTLPExporterMixin.shutdown(self, timeout_millis=timeout_millis)
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/exporter/otlp/proto/grpc/exporter.py", line 325, in shutdown
    self._export_lock.acquire(timeout=timeout_millis)
KeyboardInterrupt: 
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.
Exception while exporting metrics I/O operation on closed file.
Traceback (most recent call last):
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 523, in _receive_metrics
    self._exporter.export(
  File "/Users/zahere/Desktop/TLV/agenticraft/venv/lib/python3.11/site-packages/opentelemetry/sdk/metrics/_internal/export/__init__.py", line 163, in export
    self.out.write(self.formatter(metrics_data))
ValueError: I/O operation on closed file.

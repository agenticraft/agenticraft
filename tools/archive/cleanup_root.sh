#!/bin/bash
# AgentiCraft Root Directory Cleanup Script
# This script moves files from the root to their appropriate directories

echo "🧹 Starting AgentiCraft root directory cleanup..."

# Move remaining run files to scripts/
echo "📁 Moving run_* files to tools/scripts/..."
mv run_final_security_tests.py tools/scripts/ 2>/dev/null && echo "  ✓ run_final_security_tests.py"
mv run_pytest_check.py tools/scripts/ 2>/dev/null && echo "  ✓ run_pytest_check.py"
mv run_sandbox_test.sh tools/scripts/ 2>/dev/null && echo "  ✓ run_sandbox_test.sh"
mv run_sdk_preference_test.sh tools/scripts/ 2>/dev/null && echo "  ✓ run_sdk_preference_test.sh"
mv run_sdk_test.sh tools/scripts/ 2>/dev/null && echo "  ✓ run_sdk_test.sh"
mv run_sdk_tests.py tools/scripts/ 2>/dev/null && echo "  ✓ run_sdk_tests.py"
mv run_security_tests_full.py tools/scripts/ 2>/dev/null && echo "  ✓ run_security_tests_full.py"
mv run_single_test.sh tools/scripts/ 2>/dev/null && echo "  ✓ run_single_test.sh"
mv run_specific_test.sh tools/scripts/ 2>/dev/null && echo "  ✓ run_specific_test.sh"
mv run_tests.sh tools/scripts/ 2>/dev/null && echo "  ✓ run_tests.sh"
mv run_tool_dir_test.sh tools/scripts/ 2>/dev/null && echo "  ✓ run_tool_dir_test.sh"
mv run_visual_builder.py tools/scripts/ 2>/dev/null && echo "  ✓ run_visual_builder.py"
mv run_websocket_tests.sh tools/scripts/ 2>/dev/null && echo "  ✓ run_websocket_tests.sh"

# Move cleanup files to archive/
echo "📁 Moving cleanup files to tools/archive/..."
mv cleanup_check.py tools/archive/ 2>/dev/null && echo "  ✓ cleanup_check.py"
mv cleanup_redundant.py tools/archive/ 2>/dev/null && echo "  ✓ cleanup_redundant.py"
mv cleanup_redundant_files.py tools/archive/ 2>/dev/null && echo "  ✓ cleanup_redundant_files.py"
mv clean_cache.sh tools/archive/ 2>/dev/null && echo "  ✓ clean_cache.sh"
mv clear_and_diagnose.py tools/archive/ 2>/dev/null && echo "  ✓ clear_and_diagnose.py"
mv clear_cache_and_test.py tools/archive/ 2>/dev/null && echo "  ✓ clear_cache_and_test.py"
mv fix_dependencies.sh tools/archive/ 2>/dev/null && echo "  ✓ fix_dependencies.sh"

# Move test files to tests/
echo "📁 Moving test_* files to tests/..."
mv test_a2a_fix.py tests/ 2>/dev/null && echo "  ✓ test_a2a_fix.py"
mv test_a2a_hybrid_fix.py tests/ 2>/dev/null && echo "  ✓ test_a2a_hybrid_fix.py"
mv test_all_sdk_fixes.py tests/ 2>/dev/null && echo "  ✓ test_all_sdk_fixes.py"
mv test_auth.py.bak tests/ 2>/dev/null && echo "  ✓ test_auth.py.bak"
mv test_final_adapter_fixes.py tests/ 2>/dev/null && echo "  ✓ test_final_adapter_fixes.py"
mv test_mock_fix.py tests/ 2>/dev/null && echo "  ✓ test_mock_fix.py"
mv test_name_parsing.py tests/ 2>/dev/null && echo "  ✓ test_name_parsing.py"
mv test_refactoring_complete.py tests/ 2>/dev/null && echo "  ✓ test_refactoring_complete.py"
mv test_sandbox_basic.py tests/ 2>/dev/null && echo "  ✓ test_sandbox_basic.py"
mv test_sdk_integration_fix.py tests/ 2>/dev/null && echo "  ✓ test_sdk_integration_fix.py"
mv test_security_full.py tests/ 2>/dev/null && echo "  ✓ test_security_full.py"
mv test_security_imports.py tests/ 2>/dev/null && echo "  ✓ test_security_imports.py"
mv test_security_quick.py tests/ 2>/dev/null && echo "  ✓ test_security_quick.py"
mv test_timeout.py tests/ 2>/dev/null && echo "  ✓ test_timeout.py"
mv test_tool_proxy_fix.py tests/ 2>/dev/null && echo "  ✓ test_tool_proxy_fix.py"
mv test_websocket_fix.py tests/ 2>/dev/null && echo "  ✓ test_websocket_fix.py"

# Move verify files to diagnostics/
echo "📁 Moving verify_* files to tools/diagnostics/..."
mv verify_all_fixes.py tools/diagnostics/ 2>/dev/null && echo "  ✓ verify_all_fixes.py"
mv verify_all_imports.py tools/diagnostics/ 2>/dev/null && echo "  ✓ verify_all_imports.py"
mv verify_cleanup_safety.py tools/diagnostics/ 2>/dev/null && echo "  ✓ verify_cleanup_safety.py"
mv verify_import_fix.py tools/diagnostics/ 2>/dev/null && echo "  ✓ verify_import_fix.py"
mv verify_refactoring_status.py tools/diagnostics/ 2>/dev/null && echo "  ✓ verify_refactoring_status.py"
mv verify_security_fix.py tools/diagnostics/ 2>/dev/null && echo "  ✓ verify_security_fix.py"

# Move development files
echo "📁 Moving development files to tools/development/..."
mv analyze_dependencies.py tools/development/ 2>/dev/null && echo "  ✓ analyze_dependencies.py"
mv debug_import_error.py tools/development/ 2>/dev/null && echo "  ✓ debug_import_error.py"
mv debug_reasoning_imports.py tools/development/ 2>/dev/null && echo "  ✓ debug_reasoning_imports.py"
mv diagnose_structure.py tools/development/ 2>/dev/null && echo "  ✓ diagnose_structure.py"
mv final_diagnosis.py tools/development/ 2>/dev/null && echo "  ✓ final_diagnosis.py"
mv final_security_test_run.py tools/development/ 2>/dev/null && echo "  ✓ final_security_test_run.py"
mv final_verification.py tools/development/ 2>/dev/null && echo "  ✓ final_verification.py"
mv find_import_error.py tools/development/ 2>/dev/null && echo "  ✓ find_import_error.py"
mv find_thoughtprocess.py tools/development/ 2>/dev/null && echo "  ✓ find_thoughtprocess.py"
mv minimal_error_test.py tools/development/ 2>/dev/null && echo "  ✓ minimal_error_test.py"
mv minimal_import_test.py tools/development/ 2>/dev/null && echo "  ✓ minimal_import_test.py"
mv prove_refactoring_complete.py tools/development/ 2>/dev/null && echo "  ✓ prove_refactoring_complete.py"
mv quick_status.py tools/development/ 2>/dev/null && echo "  ✓ quick_status.py"
mv refactor_tests.py tools/development/ 2>/dev/null && echo "  ✓ refactor_tests.py"
mv validate_refactoring.py tools/development/ 2>/dev/null && echo "  ✓ validate_refactoring.py"

echo "✅ Cleanup complete!"
echo ""
echo "📊 Summary:"
echo "  - Run files moved to tools/scripts/"
echo "  - Cleanup files moved to tools/archive/"
echo "  - Test files moved to tests/"
echo "  - Verify files moved to tools/diagnostics/"
echo "  - Development files moved to tools/development/"
